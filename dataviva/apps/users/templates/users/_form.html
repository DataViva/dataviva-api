{% macro messages(input) -%}
    {% for message in input.errors %}
        <label class="m-l-md error" for="{{ input.name }}">{{ message }}</label>
    {% endfor %}
{%- endmacro %}

<form id="blog-form" method="POST" action="{{ action }}" enctype="multipart/form-data">

    {{ form.hidden_tag() }}
    <div class="form-group {{ 'has-error' if form.nickname.errors else '' }} ">
        <label class="control-label" for="nickname">Apelido</label>
        {{ messages(form.nickname) }}
        {{ form.nickname(class="form-control", maxlength=64)}}
    </div>

    <div class="form-group {{ 'has-error' if form.email.errors else '' }} ">
        <label class="control-label" for="email">E-mail</label>
        {{ messages(form.email) }}
        {{ form.email(class="form-control", maxlength=120)}}
    </div>

    <div class="form-group {{ 'has-error' if form.fullname.errors else '' }} ">
        <label class="control-label" for="fullname">Nome Completo</label>
        {{ messages(form.fullname) }}
        {{ form.fullname(class="form-control", maxlength=200)}}
    </div>

    <div class="form-group {{ 'has-error' if form.country.errors else '' }} ">
        <label class="control-label" for="country">Localidade</label>
        {{ messages(form.country) }}
        {{ form.country(class="form-control", maxlength=80)}}
    </div>

    <div class="form-group {{ 'has-error' if form.gender.errors else '' }} ">
        <label class="control-label" for="gender">Sexo</label>
        {{ messages(form.gender) }}
        {{ form.gender(class="form-control", maxlength=10)}}
    </div>

    <button type="submit" class="btn btn-primary pull-right"><i class="fa fa-share-square-o m-r-sm"></i>Enviar</button>
</form>