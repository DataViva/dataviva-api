<div class="institucional search">
    <h2>Escolha um localidade da lista abaixo ou busque pelo nome</h2>
    <form action="" class="form-dataviva form-inline filter">
        <div class="form-group">
            <ul class="btn-group nav nav-tabs" role="tablist">
                <button type="button" href="#regions" aria-controls="regions" role="tab" data-toggle="tab" class="btn btn-default" ng-click="model.load_depth_entries(model.regions)">
                Regiões
                </button>
                <button type="button" href="#states" aria-controls="states" role="tab" data-toggle="tab" class="btn btn-default" ng-click="model.load_depth_entries(model.states)">
                Estados
                </button>
                <button type="button" href="#mesoregions" aria-controls="mesoregions" role="tab" data-toggle="tab" class="btn btn-default"  ng-click="model.load_depth_entries(model.mesoregions)">
                Mesorregiões
                </button>
                <button type="button" href="#mircroregions" aria-controls="mircroregions" role="tab" data-toggle="tab" class="btn btn-default" ng-click="model.load_depth_entries(model.mircroregions)">
                Microregiões
                </button>
                <button type="button" href="#municipality" aria-controls="municipality" role="tab" data-toggle="tab" class="btn btn-default" ng-click="model.load_depth_entries(model.municipalities)">
                Municípios
                </button>
            </ul>
        </div>
        <hr>
        <div class="search-items tab-content">
            <!-- TAB: REGIONS -->
            <div role="tabpanel" class="tab-pane search-items" id="regions">
                <div class="form-group">
                    <i class="fa fa-search"></i>
                    <input type="text"
                    name="regions_filter"
                    class="busca form-control"
                    ng-model="model.regions.filter_string"
                    ng-trim="true"
                    autocomplete="false" />
                </div>
                <div class="list-group list-stripped selector-list col-md-15">
                    <div ng-repeat="loc in model.regions.entries|filter:regions.filter_string" class="list-group-item col-md-15">
                        <div class="col-md-11">{$ loc.name $}<BR><strong>IBGE:</strong> {$ loc.id_ibge $}
                        </div>
                        <div class="col-md-3">
                            <button class="btn btn-default" ng-click="select(loc.id)">Selecionar</button>
                        </div>
                    </div>
                </div>
                
            </div>
            <!-- TAB: STATES -->
            <div role="tabpanel" class="tab-pane search-items" id="states">
                <div class="form-group">
                    <i class="fa fa-search"></i>
                    <input type="text"
                    name="states_filter"
                    class="busca form-control"
                    ng-model="states.filter_string"
                    ng-trim="true"
                    autocomplete="false" />
                </div>
                <div class="list-group list-stripped selector-list col-md-15">
                    <div ng-repeat="loc in model.states.entries | filter:states.filter_string" ng-if="loc.id_ibge" class="list-group-item col-md-15" >
                        <div class="col-md-1 hidden-xs hidden-sm">
                            <img src="{$ loc.icon $}" class="loc-flag-icon"/>
                        </div>
                        <div class="col-md-10">
                            {$ loc.name $}<BR><strong>IBGE:</strong> {$ loc.id_ibge $}
                        </div>
                        <div class="col-md-3">
                            <button class="btn btn-default" ng-click="select(loc.id)">Selecionar</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- TAB: MESOREGIONS -->
            <div role="tabpanel" class="tab-pane search-items" id="mesoregions">
                <div class="form-group">
                    <i class="fa fa-search"></i>
                    <input type="text"
                    name="mesoregions_filter"
                    class="busca form-control"
                    P   ng-model="mesoregions.filter_string"
                    ng-trim="true"
                    placeholder="Busque pelo nome ou pelo No. IBGE"/>
                </div>
                <div class="list-group list-stripped selector-list">
                    <div ng-repeat="loc in model.mesoregions.entries | filter:mesoregions.filter_string" ng-if="loc.id_ibge" class="list-group-item col-md-15" >
                        <div class="col-md-1 hidden-xs hidden-sm">
                            <img src="{$ loc.icon $}" class="loc-flag-icon"/>
                        </div>
                        <div class="col-md-10">
                            {$ loc.name $}<BR><strong>IBGE:</strong> {$ loc.id_ibge $}
                        </div>
                        <div class="col-md-3">
                            <button class="btn btn-default" ng-click="select(loc.id)">Selecionar</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- TAB: mircroregions -->
            <div role="tabpanel" class="tab-pane search-items" id="mircroregions">
                <div class="form-group">
                    <i class="fa fa-search"></i>
                    <input type="text"
                    name="mircroregions_filter"
                    class="busca form-control"
                    ng-model="mircroregions.filter_string"
                    ng-trim="true"
                    placeholder="Busque pelo nome ou pelo No. IBGE"/>
                </div>
                <div class="list-group list-stripped selector-list">
                    <div ng-repeat="loc in model.mircroregions.entries | filter:mircroregions.filter_string" ng-if="loc.id_ibge" class="list-group-item col-md-15" >
                        <div class="col-md-1 hidden-xs hidden-sm">
                            <img src="{$ loc.icon $}" class="loc-flag-icon"/>
                        </div>
                        <div class="col-md-10">
                            {$ loc.name $}<BR><strong>IBGE:</strong> {$ loc.id_ibge $}
                        </div>
                        <div class="col-md-3">
                            <button class="btn btn-default" ng-click="select(loc.id)">Selecionar</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- TAB: MUNICIPALITY -->
            <div role="tabpanel" class="tab-pane search-items" id="municipality">
                <div class="form-group">
                    <i class="fa fa-search"></i>
                    <input type="text"
                    name="states_filter"
                    class="busca form-control"
                    ng-model="municipalities.filter_string"
                    ng-trim="true"
                    placeholder="Busque pelo nome ou pelo No. IBGE"/>
                </div>
                
                <div class="list-group list-stripped selector-list">
                    <div ng-repeat="loc in model.municipalities.entries | filter:municipalities.filter_string" ng-if="loc.id_ibge" class="list-group-item col-md-15">
                        <div class="col-md-1 hidden-xs hidden-sm">
                            <img src="{$ loc.icon $}" class="loc-flag-icon"/>
                        </div>
                        <div class="col-md-10">
                            {$ loc.name $}<BR><strong>IBGE:</strong> {$ loc.id_ibge $}
                        </div>
                        <div class="col-md-3">
                            <button class="btn btn-default" ng-click="select(loc.id)">Selecionar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>